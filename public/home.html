<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Accueil - Gestion des Fichiers</title>
  <link rel="stylesheet" href="./styles/home.css">
</head>
<body>

  <!-- Barre de navigation -->
  <nav>
    <div class="nav-left">
      Utilisateur : <strong id="userName"></strong>
    </div>
    <div class="nav-right">
      <a href="/home.html">Accueil</a>
      <button id="logout">Déconnexion</button>
    </div>
    <div class="clear"></div>
  </nav>

  <div class="container">
    <h2 id="ajout">Ajouter un fichier</h2>
    <form id="uploadForm" enctype="multipart/form-data" method="post" action="/api/files">
      <input id="fileInput" type="file" name="file" required />
      <div>
        <img id="previewImage" style="display:none; max-width:200px; max-height:200px;" >
        <p id="previewText" style="display:none;"></p>
      </div>
      <button type="submit">Ajouter</button>
    </form>

    <h2>Liste des fichiers</h2>
    <table>
      <thead>
        <tr>
          <th>Type de fichier</th>
          <th>Nom du fichier</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody id="fileTableBody">

      </tbody>
    </table>
  </div>

  <script src="./js/home.js"></script>
  <script>
    // Charger les fichiers dès que la page est prête
    document.addEventListener("DOMContentLoaded", loadFiles);
  </script>

</body>
</html>
